package com.balintcsala.jawkhw.entities;

import com.fasterxml.jackson.annotation.JsonIgnore;
import jakarta.persistence.*;

import java.io.Serializable;
import java.util.Objects;
import java.util.Set;


@Entity
@Table(name = "users", schema = "userdata")
public class User implements Serializable {
    @JsonIgnore
    @Transient

    final String DEFAULT_AVATAR = "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAAEsAAAAAQAAASwAAAAB/+0ALFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAPHAFaAAMbJUccAQAAAgAEAP/hDIFodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+DQo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJJbWFnZTo6RXhpZlRvb2wgMTAuMTAiPg0KCTxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+DQoJCTxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCgkJCTx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+DQoJCQk8dGlmZjpYUmVzb2x1dGlvbj4zMDAvMTwvdGlmZjpYUmVzb2x1dGlvbj4NCgkJCTx0aWZmOllSZXNvbHV0aW9uPjMwMC8xPC90aWZmOllSZXNvbHV0aW9uPg0KCQk8L3JkZjpEZXNjcmlwdGlvbj4NCgkJPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iPg0KCQkJPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6c3RvY2s6ZTNjYWVmNTgtNjUxNC00YjlkLTk1MzUtYTljNWJkNjE3YzA4PC94bXBNTTpEb2N1bWVudElEPg0KCQkJPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpiODFlZDU1OS1mODVmLTRjY2MtOTY4OS1lMzYxYWNkYTVkOGU8L3htcE1NOkluc3RhbmNlSUQ+DQoJCTwvcmRmOkRlc2NyaXB0aW9uPg0KCTwvcmRmOlJERj4NCjwveDp4bXBtZXRhPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSd3Jz8+/9sAQwACAQECAQECAgICAgICAgMFAwMDAwMGBAQDBQcGBwcHBgcHCAkLCQgICggHBwoNCgoLDAwMDAcJDg8NDA4LDAwM/9sAQwECAgIDAwMGAwMGDAgHCAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwM/8AAEQgAeAB4AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQy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";

    @JsonIgnore
    @Transient
    final String DEFAULT_BIO = "Beaver is the best platform";

    @Basic
    @Id
    private String username;

    @Basic
    private Byte admin;

    @Basic
    private String name;

    @Basic
    @Column(name = "password_hash")
    private String passwordHash;

    @Basic
    private String avatar;

    @Basic
    private String bio;

    @ManyToMany
    @JoinTable(name = "follows", joinColumns = @JoinColumn(name = "followed"), inverseJoinColumns = @JoinColumn(name = "follower"))
    private Set<User> followers;

    public User() {
    }

    public User(boolean admin, String username, String name, String passwordHash) {
        this.admin = (byte) (admin ? 1 : 0);
        this.username = username;
        this.name = name;
        this.passwordHash = passwordHash;
        this.avatar = DEFAULT_AVATAR;
        this.bio = DEFAULT_BIO;
    }

    public Byte getAdmin() {
        return admin;
    }

    public void setAdmin(boolean admin) {
        this.admin = (byte) (admin ? 1 : 0);
    }

    public String getUsername() {
        return username;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getPasswordHash() {
        return passwordHash;
    }

    public void setPasswordHash(String passwordHash) {
        this.passwordHash = passwordHash;
    }

    public Set<User> getFollowers() {
        return followers;
    }

    public void followUser(User user) {
        user.followers.add(this);
    }

    public String getAvatar() {
        return avatar;
    }

    public void setAvatar(String avatar) {
        this.avatar = avatar;
    }

    public String getBio() {
        return bio;
    }

    public void setBio(String bio) {
        this.bio = bio;
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;
        User user = (User) o;
        return Objects.equals(username, user.username) && Objects.equals(admin, user.admin) && Objects.equals(name, user.name) && Objects.equals(passwordHash, user.passwordHash);
    }

    @Override
    public int hashCode() {
        return Objects.hash(username, name, admin, passwordHash);
    }
}
